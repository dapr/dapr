2024/12/09 10:50:07 Running setup...
2024/12/09 10:50:07 Installing test apps...
2024/12/09 10:50:07 Adding app {"AppName":"actor1","AppEnv":{"TEST_APP_ACTOR_TYPES":"actor1,actor2,resiliencyInvokeActor"},"DaprEnabled":true,"DebugLoggingEnabled":true,"ImageName":"e2e-actorinvocationapp:dev-linux-arm64","RegistryName":"docker.io/diagrid/dapr","Replicas":1,"IngressEnabled":true,"MetricsEnabled":true,"AppCPULimit":"1.0","AppCPURequest":"0.1","AppMemoryLimit":"300Mi","AppMemoryRequest":"200Mi","DaprCPULimit":"1.0","DaprCPURequest":"0.1","DaprMemoryLimit":"256Mi","DaprMemoryRequest":"100Mi"}
2024/12/09 10:50:07 Adding app {"AppName":"actor2","AppEnv":{"TEST_APP_ACTOR_TYPES":"actor1,actor2"},"DaprEnabled":true,"DebugLoggingEnabled":true,"ImageName":"e2e-actorinvocationapp:dev-linux-arm64","RegistryName":"docker.io/diagrid/dapr","Replicas":1,"IngressEnabled":true,"MetricsEnabled":true,"AppCPULimit":"1.0","AppCPURequest":"0.1","AppMemoryLimit":"300Mi","AppMemoryRequest":"200Mi","DaprCPULimit":"1.0","DaprCPURequest":"0.1","DaprMemoryLimit":"256Mi","DaprMemoryRequest":"100Mi"}
2024/12/09 10:50:07 Ensuring namespaces exist ...
2024/12/09 10:50:07 Checking namespace "dapr-tests" ...
2024/12/09 10:50:07 Installing apps ...
2024/12/09 10:50:08 Deploying app actor2 ...
2024/12/09 10:50:09 Deploying app actor1 ...
2024/12/09 10:50:16 App actor2 has been deployed.
2024/12/09 10:50:16 Validating sidecar for app actor2 ....
2024/12/09 10:50:16 Streaming Kubernetes logs to container_logs/actor2-7946bdf45b-ndtbh.actor2.log
2024/12/09 10:50:16 Streaming Kubernetes logs to container_logs/actor2-7946bdf45b-ndtbh.daprd.log
2024/12/09 10:50:16 Sidecar for app actor2 has been validated.
2024/12/09 10:50:16 Creating ingress for app actor2 ....
2024/12/09 10:50:16 Ingress for app actor2 has been created.
2024/12/09 10:50:16 Creating pod port forwarder for app actor2 ....
2024/12/09 10:50:16 Pod port forwarder for app actor2 has been created.
2024/12/09 10:50:17 App actor1 has been deployed.
2024/12/09 10:50:17 Validating sidecar for app actor1 ....
2024/12/09 10:50:17 Streaming Kubernetes logs to container_logs/actor1-694c66f95f-7rl4n.actor1.log
2024/12/09 10:50:17 Streaming Kubernetes logs to container_logs/actor1-694c66f95f-7rl4n.daprd.log
2024/12/09 10:50:18 Sidecar for app actor1 has been validated.
2024/12/09 10:50:18 Creating ingress for app actor1 ....
2024/12/09 10:50:18 Ingress for app actor1 has been created.
2024/12/09 10:50:18 Creating pod port forwarder for app actor1 ....
2024/12/09 10:50:18 Pod port forwarder for app actor1 has been created.
2024/12/09 10:50:18 Apps are installed.
2024/12/09 10:50:18 Running tests...
=== RUN   TestActorInvocation
2024/12/09 10:50:18 Waiting until service ingress is ready for actor1...
2024/12/09 10:50:19 Running in Kind cluster, forwarding ports to 127.0.0.1
Forwarding from 127.0.0.1:37705 -> 3000
Forwarding from [::1]:37705 -> 3000
2024/12/09 10:50:19 Service ingress for actor1 is ready...: url=127.0.0.1:37705
2024/12/09 10:50:19 Waiting until service ingress is ready for actor2...
2024/12/09 10:50:19 Running in Kind cluster, forwarding ports to 127.0.0.1
Forwarding from 127.0.0.1:38001 -> 3000
Forwarding from [::1]:38001 -> 3000
2024/12/09 10:50:20 Service ingress for actor2 is ready...: url=127.0.0.1:38001
Handling connection for 38001
Handling connection for 37705
=== RUN   TestActorInvocation/Actor_remote_invocation
=== RUN   TestActorInvocation/Actor_local_invocation_with_X-DaprErrorResponseHeader_+_Resiliency
=== RUN   TestActorInvocation/Actor_remote_invocation_with_X-DaprErrorResponseHeader_+_Resiliency
=== RUN   TestActorInvocation/Actor_cross_actor_call_(same_pod)
=== RUN   TestActorInvocation/Actor_cross_actor_call_(diff_pod)
--- PASS: TestActorInvocation (11.81s)
    --- PASS: TestActorInvocation/Actor_remote_invocation (0.43s)
    --- PASS: TestActorInvocation/Actor_local_invocation_with_X-DaprErrorResponseHeader_+_Resiliency (5.01s)
    --- PASS: TestActorInvocation/Actor_remote_invocation_with_X-DaprErrorResponseHeader_+_Resiliency (5.01s)
    --- PASS: TestActorInvocation/Actor_cross_actor_call_(same_pod) (0.01s)
    --- PASS: TestActorInvocation/Actor_cross_actor_call_(diff_pod) (0.01s)
=== RUN   TestActorNegativeInvocation
2024/12/09 10:50:30 Waiting until service ingress is ready for actor1...
2024/12/09 10:50:30 Running in Kind cluster, forwarding ports to 127.0.0.1
2024/12/09 10:50:30 Re-creating pod port forwarder for app actor1 ....
2024/12/09 10:50:30 Pod port forwarder for app actor1 has been created.
2024/12/09 10:50:30 Closed port fowarding
Forwarding from 127.0.0.1:42523 -> 3000
Forwarding from [::1]:42523 -> 3000
2024/12/09 10:50:30 Service ingress for actor1 is ready...: url=127.0.0.1:42523
Handling connection for 42523
=== RUN   TestActorNegativeInvocation/Try_actor_call_with_non-bound_method
=== RUN   TestActorNegativeInvocation/Try_actor_call_with_non-registered_actor_type
--- PASS: TestActorNegativeInvocation (5.03s)
    --- PASS: TestActorNegativeInvocation/Try_actor_call_with_non-bound_method (0.00s)
    --- PASS: TestActorNegativeInvocation/Try_actor_call_with_non-registered_actor_type (5.01s)
PASS
2024/12/09 10:50:35 Running teardown...
ok  	github.com/dapr/dapr/tests/e2e/actor_invocation	29.948s
