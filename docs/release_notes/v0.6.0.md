
# Dapr 0.6.0
 
We're happy to announce the release of Dapr 0.6.0! 

This release introduces a *new* Secrets API to get application secrets, comprehensive metrics for the Dapr runtime as well as Dapr's system components, the ability to scope components to a namespace and/or a list of authorized apps, improved logging with JSON output, tracing support for Pub/Sub, new components, retries for bindings and general bug fixes and stability improvements.

We would like to extend our thanks to all new and existing contributors who helped make this release happen.

If you're new to Dapr, visit the [getting started](https://github.com/dapr/docs/tree/master/getting-started) page and familiarize yourself with Dapr.

Docs have been updated with all the new features and changes of this release. To get started with new capabilities introduced in this release, go to the [How To section](https://github.com/dapr/docs/tree/master/howto#how-tos).

*__Note: This release contains a few minor breakings. See [breaking changes](#breaking-changes).__*

See [this](#upgrading-to-dapr-0.6.0) section on upgrading Dapr to version 0.6.0.

## New in this release

### Dapr Runtime

**Improved** secret load experience by referring SecretKeyRef.Name if Key is not given (Thanks! @lynn-orrell)

**Updated** publish endpoint to allow path fragments (Thanks! @khous)

**Improved** self-host component loading by allowing single yaml to have multiple documents (Thanks! @ksivamuthu)

**Added** Hazelcast pubsub (Thanks! @peterjot)

**Added** GCP Pubsub to dapr loader (Thanks! @ksivamuthu)

**Added** AWS Kinesis input/output bindings to dapr loader (Thanks! @ksivamuthu)

**Separated** gRPC server for internal/user-exposed endpoints (Security)

**Added** new ssl connection enabled redis component (Security)

**Added** dapr-operator.yaml to GitHub release assets via CI

**Added** replicas per actor types metric to placement service

**Fixed** deployment manifest yaml generation command

**Fixed** http appchannel tracing bug when tracing is enabled

**Fixed** trace span export bug by skipping grpc-trace-bin

**Added** Pubsub scoping/whitelisting

**Removed** unnecessary message types from dapr.proto files

**Changed** Kubernetes Operator API server from HTTP to gRPC

**Improved** E2E test coverage for Service invocation (e.g. gRPC to gRPC)

**Added** Support for Readiness and Liveness Probe for Dapr

**Added** app health checks for actors and its e2e tests

**Added** new daprd docker image that is used for sidecar image

**Added** grpc retry middleware for control panel connection retry in daprd

### Components

**Fixed** key not found error by returning empty response [aerospike/Couchbase/memcache/hazelcast statestore] (Thanks! @abhirockzz, @ksivamuthu)

**Added** GCP Cloud Pubsub (Thanks! @ksivamuthu)

**Improved** eventhub bindings by specifying partition id and key (Thanks! @ksivamuthu)

**Added** Add option to decode base64 payloads [Azure Blob storage binding] (Thanks! @CarlosLanderas)

**Added** AliCloud Object storage bindings (Thanks! @madhugilla)

**Added** Hazelcast pubsub support (Thanks! @peterjot)

**Added** Kinesis data stream binding (Thanks! @ksivamuthu)

**Added** metadata support to Azure Blob binding (Thanks! @RicardoNiepel)

**Changed** redis client library to go-redis to enable SSL connection [redis statestore]


### CLI

**Fixed** Use the full container name when checking redis (Thanks! @vjrantal)

**Updated** CI to add new artifact for Homebrew

**Changed** dapr-operator manifest url to GitHub Release


### System Components

**Added** required TLS connection for operator/injector/placement  (Security)

**Updated** client validation of Sentry to require TLS certificiation all the time  (Security)


### .NET  SDK

**Added** Secret Store configuration provider implementation for Microsoft.Extensions.Configuration (Thanks! @cmendible)

**Updated** proto clients for 0.6.0 dapr runtime and updating DaprClient

**Added** more granular actor configuration

**Added** actor health API


### Java SDK

**Added** Actor health check API

**Added** Springboot integration


### Samples

**Added** state delete call to complete sample operations (Thanks! @vsaroopchand)

**Add** SDK Links to README and **fixed** typos and links in docs


### Docs

**Added** GCP pubsub docs (Thanks! @ksivamuthu)

**Updated** EventHub single partition id (Thanks! @ksivamuthu)

**Added** Hazelcast pubsub howto (Thanks! @peterjot)

**Added** metadata doc to Azure Blob binding (Thanks! @RicardoNiepel)

**Added** AWS kinesis docs (Thanks! @ksivamuthu)

**Improved** existing docs and **fixed** typos (Thanks! @rynowak, @drmcghee, @eNeRGy164)

**Added** liveness and readiness probe /healthz API spec

**Update** actors healhcheck endpoint

**Added** Dapr presentations

**Added** Pub/Sub scopes How-to

**Updated** TLS and security docs


## Upgrading to Dapr 0.6.0

If you're upgrading from an older version of Dapr to 0.6.0, follow the steps here to ensure a smooth upgrade. You know, the one where you don't get red errors on the terminal.. we all hate that, right?

### Local Machine / Self-hosted

Uninstall Dapr using the CLI you currently have:

```
dapr uninstall --all
```

Next, get the latest CLI following [these](https://github.com/dapr/cli#installing-dapr-cli) instructions, or alternatively download the latest and greatest release from [here](https://github.com/dapr/cli/releases) and put the `dapr` binary in your PATH.

Once you have downloaded the CLI, run:

```
dapr init
```

Wait for the update to finish, and you're good to go!
Make sure you have the right runtime version (0.6.0) with:

```
dapr --version
```

### Kubernetes

Download the latest CLI release as outlined above in the `Local Machine / Self-hosted` section.

If you previously installed Dapr on your Kubernetes cluster using the Dapr CLI, run:

```
dapr uninstall --kubernetes
```

It's fine to ignore any errors that might show up.

If you previously installed Dapr using __Helm 2.X__:

```
helm del --purge dapr
```

If you previously installed Dapr using __Helm 3.X__:

```
helm uninstall dapr -n dapr-system
```

```
helm repo update
```

Wait until Dapr is uninstalled, and make sure the `dapr-system` namespace is gone.

If you installed Dapr with Helm to a namespace other than `dapr-system`, modify the uninstall command above to account for that.

You can now follow [these](https://github.com/dapr/docs/blob/master/getting-started/environment-setup.md#using-helm-advanced) instructions on how to install Dapr using __Helm 3__.

Alternatively, if you want to install Dapr in a dev/test setup, run:

```
dapr init --kubernetes
```

## Breaking Changes

### Actor Healthz API

