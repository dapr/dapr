# actionscore/actions pipeline

trigger:
- master

variables:
  GOPATH: '$(system.defaultWorkingDirectory)/gopath'
  GOBIN:  '$(GOPATH)/bin'
  modulePath: '$(GOPATH)/src/github.com/$(build.repository.name)'

jobs:
- template: 'build-binary-template.yml'
  parameters:
    pool: macOS
    targetOS: darwin
    binaryName: action
- template: 'build-binary-template.yml'
  parameters:
    pool: macOS
    targetOS: darwin
    binaryName: assigner
- template: 'build-binary-template.yml'
  parameters:
    pool: macOS
    targetOS: darwin
    binaryName: controller
- template: 'build-binary-template.yml'
  parameters:
    pool: ubuntu
    targetOS: linux
    binaryName: action
- template: 'build-binary-template.yml'
  parameters:
    pool: ubuntu
    targetOS: linux
    binaryName: assigner
- template: 'build-binary-template.yml'
  parameters:
    pool: ubuntu
    targetOS: linux
    binaryName: controller